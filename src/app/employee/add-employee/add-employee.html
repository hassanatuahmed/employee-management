<app-main-navigation></app-main-navigation>
<app-add-employee-modal [show]="showModal" (close)="closeModal()"
    (submitForm)="handleNewEmployee($event)"></app-add-employee-modal>


<div class="w-full pt-10 px-4 sm:px-6 md:px-8 lg:ps-72">
    <div class="font-bold mb-6">Employee</div>


    <div class="flex justify-between items-center w-full mb-6">
        <div>
            <input type="text" 
             placeholder="search"
             (input)="onSearch($event)"
                class=" rounded border-gray-300 px-3 py-3 w-72 shadow-sm sm:text-sm">

        </div>
        <div>


            <a class="inline-block rounded-sm border border-indigo-600 px-12 py-3 text-sm font-medium text-indigo-600 hover:bg-indigo-600 hover:text-white"
                (click)="openModal()">
                Add New
            </a>
        </div>
    </div>

    <table class="min-w-full ">
        <thead class="bg-gray-50 dark:bg-neutral-800 px-6 py-3">
            <td class="px-6 py-3 font-bold">#</td>
            <td class="px-6 py-3 font-bold">FirstName</td>
            <td class="px-6 py-3 font-bold">LastName</td>
            <td class="px-6 py-3 font-bold">Email</td>
            <td class="px-6 py-3 font-bold">Department</td>
            <td class="px-6 py-3 font-bold">Position</td>
            <td class="px-6 py-3 font-bold">Number</td>
            <td class="px-6 py-3 font-bold">Status</td>


        </thead>
        <tbody >
            @if (filteredEmployees.length === 0) {
            <tr>
                <td colspan="8" class="text-center py-4 text-gray-500">
                    No employees found.
                </td>
            </tr>
            }

            @for(emp of filteredEmployees; track emp.$id){
            <tr>
                <th scope="col" class="px-6 py-3 text-start whitespace-nowrap">
                    <span class="text-xs font-semibold uppercase text-gray-800 dark:text-neutral-200">
                        {{$index + 1}}
                    </span>
                </th>

                <th scope="col" class="px-6 py-3 text-start whitespace-nowrap min-w-64">
                    <span class="text-xs font-semibold uppercase text-gray-800 dark:text-neutral-200">
                        {{emp.firstName}}
                    </span>
                </th>

                <th scope="col" class="px-6 py-3 text-start whitespace-nowrap min-w-64">
                    <span class="text-xs font-semibold uppercase text-gray-800 dark:text-neutral-200">
                        {{emp.lastName}}
                    </span>
                </th>

                <th scope="col" class="px-6 py-3 text-start whitespace-nowrap">
                    <span class="text-xs font-semibold uppercase text-gray-800 dark:text-neutral-200">
                        {{emp.email}}
                    </span>
                </th>

                <th scope="col" class="px-6 py-3 text-start whitespace-nowrap">
                    <span class="text-xs font-semibold uppercase text-gray-800 dark:text-neutral-200">
                        {{emp.department}}
                    </span>
                </th>

                <th scope="col" class="px-6 py-3 text-start whitespace-nowrap">
                    <span class="text-xs font-semibold uppercase text-gray-800 dark:text-neutral-200">
                        {{emp.position}}
                    </span>
                </th>

                <th scope="col" class="px-6 py-3 text-start whitespace-nowrap">
                    <span class="text-xs font-semibold uppercase text-gray-800 dark:text-neutral-200">
                        {{emp.contact}}
                    </span>
                </th>

                <th scope="col" class="px-6 py-3 text-start whitespace-nowrap">
                    <span class="text-xs font-semibold uppercase text-gray-800 dark:text-neutral-200">
                        {{emp.status}}
                    </span>
                </th>

            </tr>
            }
        </tbody>


    </table>
</div>